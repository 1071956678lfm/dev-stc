<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: routes/Consign/components/ConsignContentComponent.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: routes/Consign/components/ConsignContentComponent.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, {Component, PropTypes} from 'react';
import {Steps, Modal, Row, Col, Card, Tabs, Select, Button, Layout, Form, Input,Radio,Checkbox,Icon,DatePicker,Collapse,message,Table, Popconfirm } from 'antd';
import moment from "moment/moment";

/**
 * 页面定义的tab
 * @type {React.ClassicComponentClass&lt;TabPaneProps>}
 */
const TabPane = Tabs.TabPane;

const Panel = Collapse.Panel;
const Option=Select.Option;
const OptGroup=Select.OptGroup;
const FormItem=Form.Item;
const RadioGroup = Radio.Group;
const CheckboxGroup = Checkbox.Group;
const { TextArea } = Input;

function handleChange(value) {
    console.log(`selected ${value}`);
}

/**
 * 功能表编辑函数，让表格中的内容可以在线编辑
 *
 */
class EditableCell extends Component {
    state = {
        value: this.props.value,
        editable: false,
    }
    handleChange = (e) => {
        const value = e.target.value;
        this.setState({ value });
    }
    check = () => {
        this.setState({ editable: false });
        if (this.props.onChange) {
            this.props.onChange(this.state.value);
        }
    }
    edit = () => {
        this.setState({ editable: true });
    }
    render() {
        const { value, editable } = this.state;
        return (
            &lt;div className="editable-cell">
                {
                    editable ? (
                        &lt;Input
                            value={value}
                            onChange={this.handleChange}
                            onPressEnter={this.check}
                            suffix={
                                &lt;Icon
                                    type="check"
                                    className="editable-cell-icon-check"
                                    onClick={this.check}
                                />
                            }
                        />
                    ) : (
                        &lt;div style={{ paddingRight: 24 }}>
                            {value || ' '}
                            &lt;Icon
                                type="edit"
                                className="editable-cell-icon"
                                onClick={this.edit}
                            />
                        &lt;/div>
                    )
                }
            &lt;/div>
        );
    }
}
class ConsignContentComponent extends Component  {
    /**
     * 功能表定义
     * @param props
     * columns：功能表模块定义，dataSource：功能表数值定义，count：功能表初始数值
     */
    constructor(props) {
        super(props);

        this.columns = [{
            title: '模块编号',
            dataIndex: 'number',
            width: '10%',
        }, {
            title: '模块名称',
            dataIndex: 'name',
            width: '10%',
            render: (text, record) => (
                &lt;EditableCell
                    value={text}
                    onChange={this.onCellChange(record.key, 'name')}
                />
            ),
        }, {
            title: '功能简述',
            dataIndex: 'description',
            width: '10%',
            render: (text, record) => (
                &lt;EditableCell
                    value={text}
                    onChange={this.onCellChange(record.key, 'description')}
                />
            ),
        }, {
            title: '删除操作',
            dataIndex: 'operation',
            width: '10%',
            render: (text, record) => {
                return (
                    this.state.dataSource.length > 0 ?
                        (
                            &lt;Popconfirm title="确认要删除？?" onConfirm={() => this.onDelete(record.key)}>
                                &lt;a href="javascript:;">Delete&lt;/a>
                            &lt;/Popconfirm>

                        ) : null
                );
            },
        }];

        this.state = {
            dataSource: [{
                key: '1',
                number: 'M1',
                name: '',
                description: '',
            }, {
                key: '2',
                number: 'M2',
                name: '',
                description: '',
            }],
            count: 3,
            visible: false,
            curButtonIdx: "",
        };

    }
    onCellChange = (key, dataIndex) => {
        return (value) => {
            const dataSource = [...this.state.dataSource];
            const target = dataSource.find(item => item.key === key);
            if (target) {
                target[dataIndex] = value;
                this.setState({ dataSource });
            }
        };
    }
    onDelete = (key) => {
        const dataSource = [...this.state.dataSource];
        this.setState({ dataSource: dataSource.filter(item => item.key !== key) });
    }
    /**
     * 功能表添加函数
     */
    handleAdd = () => {
        const { count, dataSource } = this.state;
        const newData = {
            key: count,
            number: `M${count}`,
            description: ``,
        };
        this.setState({
            dataSource: [...dataSource, newData],
            count: count + 1,
        });
    }

    static defaultProps = {
        values: {},
        disable:false,
        buttons: [],
        //buttonDisabled:false,
    };

    static propTypes = {
        consignData: PropTypes.object.isRequired,
        values: PropTypes.object.isRequired,
        disable: PropTypes.bool.isRequired,
        buttons: PropTypes.array.isRequired,
        //buttonDisabled: PropTypes.bool.isRequired,
        form: PropTypes.object.isRequired,
    };

    componentWillMount() {
        this.props.getValues(this.props.consignData.id,this.props.consignData.processInstanceID);
        let state = this.state;
        state.dataSource = this.props.values["functionList"];
        if (state.dataSource === undefined)
            state.dataSource = [];
        state.count = state.dataSource.length;
        this.setState(state);
    };

    // componentDidMount() {
    //     this.values = this.props.getValues(this.curID);
    // };

    onClick = (buttonIndex) => () => {
        // this.props.form.validateFields((err, values) => {
        //     if (!err) {
        //         this.props.buttons[buttonIndex].onClick(this.props.consignData, JSON.stringify(values));
        //     }
        // });
        const {buttons, form} = this.props;
        let fieldsValue = form.getFieldsValue();
        fieldsValue["functionList"] = this.state.dataSource;
        const consignation = JSON.stringify({
            ...this.props.values,
            ...fieldsValue,
        });
        // debugger;
        if(buttons[buttonIndex].content === '通过'){
            this.setState({
                ...this.state,
                visible: true,
                curButtonIdx: buttonIndex,
            })
        }
        else {
            buttons[buttonIndex].onClick(this.props.consignData, consignation);
        }
        /*switch (buttons[buttonIndex].content) {
            case '保存': message.success('保存成功');break;
            case '提交': message.success('提交成功');break;
            case '通过': message.success('委托已通过');break;
            //case 3: message.success('提交成功');break;
            default:break;
        }*/
    };

    handleOk = (e) => {
        const processNo = this.props.form.getFieldsValue().processNo;
        console.log(processNo);
        this.props.buttons[this.state.curButtonIdx].onClick(this.props.consignData,processNo);
        this.setState({
            ...this.state,
            visible: false,
        });
    };

    handleCancel = (e) => {
        console.log(e);
        this.setState({
            ...this.state,
            visible: false,
        });
    };

    /**
    *
    */
    render() {

        const { dataSource } = this.state;
        const columns = this.columns;
        const { mode } = this.state;

        const { current } = this.state;
        const { getFieldDecorator,getFieldProps } = this.props.form;
        const formItemLayout =  {
            labelCol: { span: 4 },
            wrapperCol: { span: 17 },
        };
        const formItemLayout2 =  {
            labelCol: { span: 5 },
            wrapperCol: { span: 16 },
        };


        return (



            &lt;Form onSubmit={this.handleSubmit} hideRequiredMark={true}>

                &lt;FormItem >
                    &lt;h1 style={{textAlign:'center'}}>软件项目委托测试申请书&lt;/h1>
                &lt;/FormItem>

                &lt;div>
                &lt;Tabs
                    defaultActiveKey="1"
                    tabPosition="left"

                >
                    &lt;TabPane tab="单位信息" key="1">
                        &lt;FormItem {...formItemLayout} label={"委托单位(中文)"}>
                            {getFieldDecorator('consignUnitC', {
                                rules: [{ required: true, message: '请正确输入委托单位(中文)！' ,pattern:"^[\u4E00-\u9FA5]+$"}],
                                initialValue: this.props.values.consignUnitC,
                            })(
                                &lt;Input disabled={this.props.disable}/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"委托单位(英文)"}>
                            {getFieldDecorator('consignUnitE', {
                                rules: [{ required: true, message: '请正确输入委托单位(英文)！' ,pattern:"^[A-Za-z]+$"}],
                                initialValue: this.props.values.consignUnitE,
                            })(
                                &lt;Input disabled={this.props.disable}/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"开发单位"}>
                            {getFieldDecorator('developUnit', {
                                rules: [{ required: true, message: '请正确输入开发单位！',pattern:"^[\u4E00-\u9FA5A-Za-z]+$" }],
                                initialValue: this.props.values.developUnit,
                            })(
                                &lt;Input disabled={this.props.disable}/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"单位性质"}>
                            {getFieldDecorator('unitProp', {
                                rules: [{ required: true, message: '请选择！'}],
                                initialValue: this.props.values.unitProp,
                            })(
                                &lt;Select  style={{ width: 200 }} placeholder="请选择"
                                         onChange={handleChange} disabled={this.props.disable}>
                                    &lt;Option value={"内资企业"}>内资企业&lt;/Option>
                                    &lt;Option value={"外(合)资企业"}>外(合)资企业&lt;/Option>
                                    &lt;Option value={"港澳台(合)资企业"}>港澳台(合)资企业&lt;/Option>
                                    &lt;Option value={"科研院校"}>科研院校&lt;/Option>
                                    &lt;Option value={"政府事业团体"}>政府事业团体&lt;/Option>
                                    &lt;Option value={"其它"}>其它&lt;/Option>
                                &lt;/Select>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"委托单位信息"}>&lt;/FormItem>
                        {/*
                            &lt;FormItem
                                label="委托单位信息"
                                {...formItemLayout}
                            >
                                {getFieldDecorator('consignUnitMessage', {
                                    rules: [{required: true, message: '请输入委托单位信息！'}],
                                    initialValue: this.props.values.consignUnitMessage,
                                })(
                                    &lt;span className="ant-form-text">&lt;/span>
                                )}
                            &lt;/FormItem>
                        */}

                        &lt;FormItem
                            label="电话"
                            {...formItemLayout}
                        >
                            {getFieldDecorator('consignUnitTelephone', {
                                rules: [{ required: true, message: '请输入电话号码！'}],
                                initialValue: this.props.values.consignUnitTelephone,
                            })(
                                &lt;Input disabled={this.props.disable} placeholder="请输入电话号码" />
                            )}
                        &lt;/FormItem>

                        &lt;FormItem
                            label="传真"
                            {...formItemLayout}
                        >
                            {getFieldDecorator('consignUnitFax', {
                                rules: [{ required: true, message: '请输入传真号！'}],
                                initialValue: this.props.values.consignUnitFax,
                            })(
                                &lt;Input disabled={this.props.disable} placeholder="请输入传真号" />
                            )}

                        &lt;/FormItem>

                        &lt;FormItem
                            label="地址"
                            {...formItemLayout}
                        >
                            {getFieldDecorator('consignUnitAddress', {
                                rules: [{ required: true, message: '请输入地址！'}],
                                initialValue: this.props.values.consignUnitAddress,
                            })(
                                &lt;Input disabled={this.props.disable} placeholder="请输入地址" />
                            )}
                        &lt;/FormItem>

                        &lt;FormItem
                            label="邮编"
                            {...formItemLayout}
                        >
                            {getFieldDecorator('consignUnitEmailNumber', {
                                rules: [{ required: true, message: '请输入邮编！'}],
                                initialValue: this.props.values.consignUnitEmailNumber,
                            })(
                                &lt;Input disabled={this.props.disable} placeholder="请输入邮编" />
                            )}
                        &lt;/FormItem>

                        &lt;FormItem
                            label="联系人"
                            {...formItemLayout}
                        >
                            {getFieldDecorator('consignUnitPeople', {
                                rules: [{ required: true, message: '请输入联系人！'}],
                                initialValue: this.props.values.consignUnitPeople,
                            })(
                                &lt;Input disabled={this.props.disable} placeholder="请输入联系人" />
                            )}
                        &lt;/FormItem>

                        &lt;FormItem
                            label="手机"
                            {...formItemLayout}
                        >
                            {getFieldDecorator('consignUnitCellPhoneNumber', {
                                rules: [{ required: true, message: '请输入手机号码！'}],
                                initialValue: this.props.values.cconsignUnitCellPhoneNumber,
                            })(
                                &lt;Input disabled={this.props.disable} placeholder="请输入手机号" />
                            )}
                        &lt;/FormItem>

                        &lt;FormItem
                            label="E-mail"
                            {...formItemLayout}
                        >
                            {getFieldDecorator('consignUnitEmail', {
                                rules: [{ required: true, message: '请输入E-mail！'}],
                                initialValue: this.props.values.consignUnitEmail,
                            })(
                                &lt;Input disabled={this.props.disable} placeholder="请输入邮箱地址" />
                            )}
                        &lt;/FormItem>

                        &lt;FormItem
                            label="网址"
                            {...formItemLayout}
                        >
                            {getFieldDecorator('consignUnitUrl', {
                                rules: [{ required: true, message: '请输入网址！'}],
                                initialValue: this.props.values.consignUnitUrl,
                            })(
                                &lt;Input disabled={this.props.disable} placeholder="请输入网址" />
                            )}
                        &lt;/FormItem>

                        &lt;FormItem
                            label="国家重点实验室联系方式"
                            {...formItemLayout}
                        >
                            {/*&lt;span className="ant-form-text">&lt;/span>*/}c
                        &lt;/FormItem>

                        &lt;FormItem
                            {...formItemLayout}
                            label="单位地址"
                        >
                            &lt;span className="ant-form-text">南京市栖霞区仙林大道163号&lt;/span>
                        &lt;/FormItem>

                        &lt;FormItem
                            {...formItemLayout}
                            label="邮政编码"
                        >
                            &lt;span className="ant-form-text">210046&lt;/span>
                        &lt;/FormItem>

                        &lt;FormItem
                            {...formItemLayout}
                            label="电话"
                        >
                            &lt;span className="ant-form-text">86-25-89683467, 86-25-89683670&lt;/span>
                        &lt;/FormItem>

                        &lt;FormItem
                            {...formItemLayout}
                            label="传真"
                        >
                            &lt;span className="ant-form-text">86-25-89686596&lt;/span>
                        &lt;/FormItem>

                        &lt;FormItem
                            {...formItemLayout}
                            label="网址"
                        >
                        &lt;span className="ant-form-text">http://keysoftlab.nju.edu.cn
                        &lt;/span>
                        &lt;/FormItem>

                        &lt;FormItem
                            {...formItemLayout}
                            label="Email"
                        >
                        &lt;span className="ant-form-text">keysoftlab@nju.edu.cn
                        &lt;/span>
                        &lt;/FormItem>

                    &lt;/TabPane>

                    &lt;TabPane tab="软件基本信息" key="2">
                        &lt;FormItem {...formItemLayout} label="软件名称">
                            {getFieldDecorator('softwareName', {
                                rules: [{ required: true, message: '请输入软件名称！' }],
                                initialValue: this.props.values.softwareName,
                            })(
                                &lt;Input disabled={this.props.disable}/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"版本号"}>
                            {getFieldDecorator('version', {
                                rules: [{ required: true, message: '请正确输入版本号！',pattern:"^[a-zA-Z0-9/.]+$"}],
                                initialValue: this.props.values.version,
                            })(
                                &lt;Input disabled={this.props.disable}/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label="软件类型">
                            {getFieldDecorator('softwareType', {
                                rules: [{ required: true, message: '请选择！' }],
                                initialValue: this.props.values.softwareType,
                            })(
                                &lt;Select style={{ width: 200 }}
                                        onChange={handleChange} disabled={this.props.disable}>
                                    &lt;OptGroup label={"系统软件"}>
                                        &lt;Option value={"操作系统"}>操作系统&lt;/Option>
                                        &lt;Option value={"中文处理系统"}>中文处理系统&lt;/Option>
                                        &lt;Option value={"嵌入式操作系统"}>嵌入式操作系统&lt;/Option>
                                        &lt;Option value={"系统软件-其它"}>其它&lt;/Option>
                                    &lt;/OptGroup>

                                    &lt;OptGroup label={"支持软件"}>
                                        &lt;Option value={"程序设计语言"}>程序设计语言&lt;/Option>
                                        &lt;Option value={"数据库系统设计"}>数据库系统设计&lt;/Option>
                                        &lt;Option value={"工具软件"}>工具软件&lt;/Option>
                                        &lt;Option value={"网络通信软件"}>网络通信软件&lt;/Option>
                                        &lt;Option value={"中间件"}>中间件&lt;/Option>
                                        &lt;Option value={"支持软件-其他"}>其他&lt;/Option>
                                    &lt;/OptGroup>

                                    &lt;OptGroup label={"应用软件"}>
                                        &lt;Option value={"行业管理软件"}>行业管理软件&lt;/Option>
                                        &lt;Option value={"模式识别软件"}>模式识别软件&lt;/Option>
                                        &lt;Option value={"图形图像软件"}>图形图像软件&lt;/Option>
                                        &lt;Option value={"控制软件"}>控制软件&lt;/Option>
                                        &lt;Option value={"网络应用软件"}>网络应用软件&lt;/Option>
                                        &lt;Option value={"信息管理软件"}>信息管理软件&lt;/Option>
                                        &lt;Option value={"数据库管理应用软件"}>数据库管理应用软件&lt;/Option>
                                        &lt;Option value={"安全与保密软件"}>安全与保密软件&lt;/Option>
                                        &lt;Option value={"嵌入式应用软件"}>嵌入式应用软件&lt;/Option>
                                        &lt;Option value={"教育软件"}>教育软件&lt;/Option>
                                        &lt;Option value={"游戏软件"}>游戏软件&lt;/Option>
                                        &lt;Option value={"应用软件-其他"}>其他&lt;/Option>
                                    &lt;/OptGroup>

                                    &lt;OptGroup label={"其他"}>
                                        &lt;Option value={"其他-其他"}>其他&lt;/Option>
                                    &lt;/OptGroup>
                                &lt;/Select>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem{...formItemLayout} label={"软件规模(至少一种)"}>
                            &lt;FormItem offset={1}>
                                {getFieldDecorator('softwareScaleFuncNum',
                                    {rules: [{ required: false, message: '请输入功能数！',pattern:"^[0-9]+$"}],
                                        initialValue: this.props.values.softwareScaleFuncNum,
                                    })(
                                    &lt;Input disabled={this.props.disable}
                                           addonBefore={"功能数"}  placeholder={"到最后一级菜单"}/>
                                )}
                            &lt;/FormItem>

                            &lt;FormItem offset={1}>
                                {getFieldDecorator('softwareScaleFuncPoint',
                                    {rules: [{ required: false, message: '请输入功能点数!',pattern:"^[0-9]+$"}],
                                        initialValue: this.props.values.softwareScaleFuncPoint,
                                    })(
                                    &lt;Input disabled={this.props.disable}
                                           addonBefore={"功能点数"} />
                                )}
                            &lt;/FormItem>

                            &lt;FormItem offset={1}>
                                {getFieldDecorator('softwareScaleCodeLine',
                                    {rules: [{ required: false, message: '请输入代码行数！',pattern:"^[0-9]+$"}],
                                        initialValue: this.props.values.softwareScaleCodeLine,
                                    })(
                                    &lt;Input disabled={this.props.disable}
                                           addonBefore={"代码行数"}  placeholder={"不包括注释行和空行"}/>
                                )}
                            &lt;/FormItem>
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"软件用户对象描述"}>
                            {getFieldDecorator('objDesc', {
                                rules: [{ required: true, message: '请输入！' }],
                                initialValue: this.props.values.objDesc,
                            })(
                                &lt;TextArea disabled={this.props.disable}
                                          rows={"4"}  placeholder="请输入软件用户对象描述"/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"主要功能及用途简介"}>
                            {getFieldDecorator('funcDesc', {
                                rules: [{ required: true, message: '请输入主要功能及用途简介（限200字）！' ,max:200 }],
                                initialValue: this.props.values.funcDesc,
                            })(
                                &lt;TextArea disabled={this.props.disable}
                                          rows={"4"} placeholder="限200字"/>
                            )}
                        &lt;/FormItem>
                    &lt;/TabPane>

                    &lt;TabPane tab="软件运行环境" key="3">
                        &lt;FormItem {...formItemLayout}label={"客户端"}/>

                        &lt;FormItem{...formItemLayout2} label={"操作系统"}>
                            {getFieldDecorator('operateEnvironmentClientOs', {
                                rules: [{ required: true, message: '请填写操作系统及其版本！' }],
                                 initialValue: this.props.values.operateEnvironmentClientOs,
                            })(
                                &lt;Checkbox.Group disabled={this.props.disable}>
                                    &lt;Checkbox value={"Windows"}/>Windows
                                    {/*Todo 此处如何加入版本框*/}
                                    &lt;Checkbox  value={"Linux"}/>Linux
                                    &lt;Checkbox value={"其它"}/>其它
                                &lt;/Checkbox.Group>
                            )}
                        &lt;/FormItem>


                        &lt;FormItem {...formItemLayout2} label={"内存要求"}>
                            {getFieldDecorator('operateEnvironmentClientMemoryReq',
                                {rules: [{ required: true, message: '请输入内存要求！',pattern:"^[0-9/.]+$"}],
                                    initialValue: this.props.values.operateEnvironmentClientMemoryReq,
                                })(&lt;Input disabled={this.props.disable} addonAfter={"MB"} />
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout2} label={"硬盘要求"}>
                            {getFieldDecorator('operateEnvironmentCientHardDiskReq',
                                {rules: [{ required: true, message: '请输入硬盘要求！',pattern:"^[0-9/.]+$"}],
                                    initialValue: this.props.values.operateEnvironmentClientHardDiskReq,
                                })
                            (&lt;Input disabled={this.props.disable} addonAfter={"MB"} />
                            )}
                        &lt;/FormItem>

                        &lt;FormItem{...formItemLayout} label={"服务器端——硬件"}/>

                        &lt;FormItem{...formItemLayout2} label={"构架"}>
                            {getFieldDecorator('operateEnvironmentServiceHardwareArch', {
                                rules: [{ required: true, message: '请选择！' }],
                                  initialValue: this.props.values.operateEnvironmentServiceHardwareArch,
                            })(
                                &lt;Select mode="multiple" style={{ width: '100%' }} disabled={this.props.disable}
                                        placeholder="请选择" onChange={handleChange}>
                                    &lt;Option value={"PC服务器"}>PC服务器&lt;/Option>
                                    &lt;Option value={"UNIX／Linux服务器"}>UNIX／Linux服务器&lt;/Option>
                                    &lt;Option value={"其他"}>其他&lt;/Option>
                                &lt;/Select>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout2} label={"内存要求"}>
                            {getFieldDecorator('operateEnvironmentServiceHardwareMemoryReq',
                                {rules: [{ required: true, message: '请输入内存要求！',pattern:"^[0-9/.]+$"}],
                                    initialValue: this.props.values.operateEnvironmentServiceHardwareMemoryReq,
                                })(
                                &lt;Input disabled={this.props.disable} addonAfter={"MB"} />
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout2} label={"硬盘要求"}>
                            {getFieldDecorator('operateEnvironmentServiceHardwareHardDiskReq',
                                {rules: [{ required: true, message: '请输入硬盘要求！', pattern:"^[0-9/.]+$"}],
                                    initialValue: this.props.values.operateEnvironmentServiceHardwareHardDiskReq,
                                })(
                                &lt;Input disabled={this.props.disable} addonAfter={"MB"}/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout2} label={"其他要求"}>
                            {getFieldDecorator('operateEnvironmentServiceHardwareOtherReq',
                                {rules: [{ required: true, message: '请输入其他要求！'}],
                                    initialValue: this.props.values.operateEnvironmentServiceHardwareOtherReq,
                                })(
                                &lt;Input disabled={this.props.disable}/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"服务器端——软件"}/>

                        &lt;FormItem {...formItemLayout2} label={"操作系统"}>
                            {getFieldDecorator('operateEnvironmentServiceSoftwareOs',
                                {rules: [{ required: true, message: '请输入操作系统！'}],
                                      initialValue: this.props.values.operateEnvironmentServiceSoftwareOs,
                                })(
                                &lt;Input disabled={this.props.disable}/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout2} label={"版本"}>
                            {getFieldDecorator('operateEnvironmentServiceSoftVersion', {
                                rules: [{ required: true, message: '请输入版本！',pattern:"^[a-zA-Z0-9/.]+$"}],
                                initialValue: this.props.values.operateEnvironmentServiceSoftVersion,
                            })(
                                &lt;Input disabled={this.props.disable}/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout2} label={"编程语言"}>
                            {getFieldDecorator('operateEnvironmentServiceSoftLanguage', {
                                rules: [{ required: true, message: '请输入编程语言！'}],
                                initialValue: this.props.values.operateEnvironmentServiceSoftLanguage,
                            })(
                                &lt;Input disabled={this.props.disable}/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem{...formItemLayout2} label={"构架"}>
                            {getFieldDecorator('operateEnvironmentServiceSoftArch', {
                                rules: [{ required: true, message: '请选择构架！' }],
                                initialValue: this.props.values.operateEnvironmentServiceSoftArch,
                            })(
                                &lt;Select mode="multiple" style={{ width: '100%' }} disabled={this.props.disable}
                                        placeholder="请选择" onChange={handleChange}>
                                    &lt;Option value={"C/S"}>C/S&lt;/Option>
                                    &lt;Option value={"B/S"}>B/S&lt;/Option>
                                    &lt;Option value={"其他"}>其他&lt;/Option>
                                &lt;/Select>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout2} label={"数据库"}>
                            {getFieldDecorator('operateEnvironmentServiceSoftDateBase', {
                                rules: [{ required: true, message: '请输入数据库！'}],
                                initialValue: this.props.values.operateEnvironmentServiceSoftDateBase,
                            })(
                                &lt;Input disabled={this.props.disable}/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout2} label={"中间件"}>
                            {getFieldDecorator('operateEnvironmentServiceSoftMidWare', {
                                rules: [{ required: true, message: '请输入中间件！'}],
                                initialValue: this.props.values.operateEnvironmentServiceSoftMidWare,
                            })(
                                &lt;Input disabled={this.props.disable}/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout2} label={"其他支撑软件"}>
                            {getFieldDecorator('operateEnvironmentServiceSoftOtherSupp', {
                                rules: [{ required: true, message: '请输入其他支撑软件！'}],
                                initialValue: this.props.values.operateEnvironmentServiceSoftOtherSupp,
                            })(
                                &lt;Input disabled={this.props.disable}/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"网络环境"}>
                            {getFieldDecorator('operateEnvironmentNetEnvironment', {
                                rules: [{ required: true, message: '请输入网络环境！'}],
                                initialValue: this.props.values.operateEnvironmentNetEnvironment,
                            })(
                                &lt;Input disabled={this.props.disable}/>
                            )}
                        &lt;/FormItem>


                    &lt;FormItem {...formItemLayout} label={"委托时间"}>
                        {getFieldDecorator('consignTime', {
                            rules: [{
                                required: true, message: '请正确输入时间！',
                                type: 'object',
                            }],
                            initialValue: this.props.values.consignTime ? moment(this.props.values.consignTime) : undefined,
                        })(
                            &lt;DatePicker disabled={this.props.disable} showTime format="YYYY-MM-DD"/>
                        )}
                    &lt;/FormItem>
                &lt;/TabPane>

                    &lt;TabPane tab="委托测试信息" key="4">
                        &lt;FormItem {...formItemLayout} label="测试类型">
                            {getFieldDecorator('testType', {
                                rules: [{ required: true, message: '请选择至少一项测试类型!'}],
                                initialValue: this.props.values.testType,
                            })(
                                &lt;Select mode="multiple" style={{ width: '100%' }} disabled={this.props.disable}
                                        placeholder="请选择" onChange={handleChange}>
                                    &lt;Option value={"软件确认测试"}>软件确认测试&lt;/Option>
                                    &lt;Option value={"成果/技术鉴定测试"}>成果/技术鉴定测试&lt;/Option>
                                    &lt;Option value={"专项资金验收测试"}>专项资金验收测试&lt;/Option>
                                    &lt;Option value={"其他"}>其他&lt;/Option>
                                &lt;/Select>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"测试依据"}>
                            {getFieldDecorator('testBasis', {
                                rules: [{ required: true, message: '请选择至少一项测试依据！' }],
                                initialValue: this.props.values.testBasis,
                            })(
                                &lt;Select mode="multiple" style={{ width: '100%' }} disabled={this.props.disable}
                                        placeholder="请选择" onChange={handleChange}>
                                    &lt;Option value={"GB/T 25000.51-2016"}>GB/T 25000.51-2016&lt;/Option>
                                    &lt;Option value={"GB/T 25000.10-2016"}>GB/T 25000.10-2016&lt;/Option>
                                    &lt;Option value={"GB/T 28452-2012"}>GB/T 28452-2012&lt;/Option>
                                    &lt;Option value={"GB/T 30961-2014"}>GB/T 30961-2014&lt;/Option>
                                    &lt;Option value={"NST-03-WI12-2011"}>NST-03-WI12-2011&lt;/Option>
                                    &lt;Option value={"ST-03-WI13-2011"}>ST-03-WI13-2011&lt;/Option>
                                    &lt;Option value={"NST-03-WI22-2014"}>NST-03-WI22-2014&lt;/Option>
                                    &lt;Option value={"其他"}>其他&lt;/Option>
                                &lt;/Select>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"需要测试的技术指标"}>
                            {getFieldDecorator('testIndicator', {
                                rules: [{ required: true, message: '请选择至少一项技术指标！' }],
                                initialValue: this.props.values.testIndicator,
                            })(
                                &lt;Select mode="multiple" style={{ width: '100%' }} disabled={this.props.disable}
                                        placeholder="请选择" onChange={handleChange}>
                                    &lt;Option value={"功能性"}>功能性&lt;/Option>
                                    &lt;Option value={"可靠性"}>可靠性&lt;/Option>
                                    &lt;Option value={"易用性"}>易用性&lt;/Option>
                                    &lt;Option value={"效率"}>效率&lt;/Option>
                                    &lt;Option value={"可维护性"}>可维护性&lt;/Option>
                                    &lt;Option value={"可移植性"}>可移植性&lt;/Option>
                                    &lt;Option value={"代码覆盖度"}>代码覆盖度&lt;/Option>
                                    &lt;Option value={"缺陷检测率"}>缺陷检测率&lt;/Option>
                                    &lt;Option value={"代码风格符合度"}>代码风格符合度&lt;/Option>
                                    &lt;Option value={"代码不符合项检测率"}>代码不符合项检测率&lt;/Option>
                                    &lt;Option value={"产品说明要求"}>产品说明要求&lt;/Option>
                                    &lt;Option value={"用户文档集要求"}>用户文档集要求&lt;/Option>
                                    &lt;Option value={"其他"}>其他&lt;/Option>
                                &lt;/Select>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"软件介质"}>
                            &lt;FormItem>
                                {getFieldDecorator('sampleQuantitySoftwareMediaCd', {
                                    rules: [{pattern:"^[0-9/]+$", message: '请输入光盘数！'}],
                                    initialValue: this.props.values.sampleQuantitySoftwareMediaCd,
                                })(
                                    &lt;Input addonBefore={"光盘数量"} disabled={this.props.disable}/>
                                )}
                            &lt;/FormItem>

                            &lt;FormItem>
                                {getFieldDecorator('sampleQuantitySoftwareMediaU', {
                                    rules: [{pattern:"^[0-9/]+$", message: '请输入U盘数！'}],
                                    initialValue: this.props.values.sampleQuantitySoftwareMediaU,
                                })(
                                    &lt;Input addonBefore={"U盘数量"} disabled={this.props.disable}/>
                                )}
                            &lt;/FormItem>

                            &lt;FormItem>
                                {getFieldDecorator('sampleQuantitySoftwareMediaOther', {
                                    rules: [{pattern:"^[0-9/]+$", message: '请输入其他数量！'}],
                                    initialValue: this.props.values.sampleQuantitySoftwareMediaOther,
                                })(
                                    &lt;Input addonBefore={"其他数量"} disabled={this.props.disable}/>
                                )}
                            &lt;/FormItem>

                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"文档资料"}>
                            {getFieldDecorator('sampleQuantityDocumentation', {
                                rules: [{ required: true, message: '请输入文档资料！'}],
                                initialValue: this.props.values.sampleQuantityDocumentation,
                            })(
                                &lt;Input disabled={this.props.disable}/>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"注"}>
                            &lt;br/>1、需求文档（例如：项目计划任务书、需求分析报告、合同等）（验收、鉴定测试必须）
                            &lt;br/>2、用户文档（例如：用户手册、用户指南等）（必须）
                            &lt;br/>3、操作文档（例如：操作员手册、安装手册、诊断手册、支持手册等）（验收项目必须）
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout}   colon={false} label={""}>

                        &lt;/FormItem>

                        &lt;FormItem  {...formItemLayout} label={"样品处理"}>提交的样品（硬拷贝资料、硬件）五年保存期满
                            {getFieldDecorator('sampleQuantityToHandle', {
                                rules: [{ required: true, message: '请选择！'}],
                                initialValue: this.props.values.sampleQuantityToHandle,
                            })(
                                &lt;Select style={{ width: 200 }} disabled={this.props.disable}
                                        placeholder="请选择" onChange={handleChange}>
                                    &lt;Option value={"由本实验室销毁"}>由本实验室销毁&lt;/Option>
                                    &lt;Option value={"退还给我们"}>退还给我们&lt;/Option>
                                &lt;/Select>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem {...formItemLayout} label={"希望测试完成的时间"}>
                            {getFieldDecorator('sampleQuantityComTimeWish', {
                                rules: [{
                                    required: true, message: '请正确输入时间！',
                                    type: 'object',
                                }],
                                initialValue: this.props.values.sampleQuantityComTimeWish ? moment(this.props.values.sampleQuantityComTimeWish) : undefined,
                            })(
                                &lt;DatePicker disabled={this.props.disable} showTime format="YYYY-MM-DD"/>
                            )}
                        &lt;/FormItem>


                        &lt;FormItem
                            {...formItemLayout}
                            label="密级"
                        >
                            {getFieldDecorator('securityLevel', {
                                rules: [{ required: true, message: '请选择！'}],
                                initialValue: this.props.values.securityLevel,
                            })(
                                &lt;RadioGroup name={"密级:"} disabled={this.props.disable}>
                                    &lt;Radio value="a">无密级&lt;/Radio>
                                    &lt;Radio value="b">秘密&lt;/Radio>
                                    &lt;Radio value="c">机密&lt;/Radio>
                                &lt;/RadioGroup>

                            )}
                        &lt;/FormItem>

                        &lt;FormItem
                            {...formItemLayout}
                            label="查杀病毒"
                        >
                            {getFieldDecorator('killingVirus', {
                                rules: [{ required: true, message: '请选择！'}],
                                initialValue: this.props.values.killingVirus,
                            })(
                                &lt;RadioGroup name={"查杀病毒:"} disabled={this.props.disable}>
                                    &lt;Radio value="a">已完成&lt;/Radio>
                                    &lt;Radio value="b">无法完成&lt;/Radio>
                                    &lt;Input disabled={this.props.disable} placeholder="所用查杀工具" />
                                &lt;/RadioGroup>

                            )}
                        &lt;/FormItem>

                        &lt;FormItem
                            {...formItemLayout}
                            label="材料检查："
                        >&lt;span className="ant-form-text">
                    &lt;/span>
                        &lt;/FormItem>

                        &lt;FormItem
                            {...formItemLayout}
                            label="需求文档："
                        >
                            {getFieldDecorator('requirementsDocument', {
                                rules: [{ required: true, message: '请选择至少一项需求文档！'}],
                                 initialValue: this.props.values.requirementsDocument,
                            })(
                                &lt;Checkbox.Group disabled={this.props.disable}>
                                    &lt;Checkbox value={"项目计划任务书"}/>项目计划任务书
                                    &lt;Checkbox value={"需求分析报告"}/>需求分析报告
                                    &lt;Checkbox value={"合同"}/>合同
                                &lt;/Checkbox.Group>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem
                            {...formItemLayout}
                            label="用户文档："
                        >
                            {getFieldDecorator('userDocument', {
                                rules: [{ required: true, message: '请选择至少一项用户文档！'}],
                                 initialValue: this.props.values.userDocument,
                            })(
                                &lt;Checkbox.Group disabled={this.props.disable}>
                                    &lt;Checkbox value={"用户手册"}/>用户手册
                                    &lt;Checkbox value={"用户指南"}/>用户指南
                                &lt;/Checkbox.Group>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem

                            {...formItemLayout}
                            label="操作文档："
                        >
                            {getFieldDecorator('oprationDocument', {
                                rules: [{ required: true, message: '请选择至少一项操作文档！'}],
                                 initialValue: this.props.values.oprationDocument,
                            })(
                                &lt;Checkbox.Group disabled={this.props.disable}>
                                    &lt;Checkbox value={"操作员手册"}/>操作员手册
                                    &lt;Checkbox value={"安装手册"}/>安装手册
                                    &lt;Checkbox value={"诊断手册"}/>诊断手册
                                    &lt;Checkbox value={"支持手册"}/>支持手册
                                &lt;/Checkbox.Group>
                            )}
                        &lt;/FormItem
                        >

                        &lt;FormItem
                            label="其他"
                            {...formItemLayout}
                        >
                            {getFieldDecorator('elseA', {
                                rules: [{ required: true, message: '请输入！'}],
                                initialValue: this.props.values.elseA,
                            })(
                                &lt;Input disabled={this.props.disable} placeholder="请输入" />
                            )}
                        &lt;/FormItem>

                        &lt;FormItem
                            {...formItemLayout}
                            label="确认意见："
                        >
                            {getFieldDecorator('confirmationE', {
                                rules: [{ required: true, message: '请选择确认意见！'}],
                                initialValue: this.props.values.confirmationE,
                            })(
                                &lt;RadioGroup name={"确认意见:"} disabled={this.props.disable}>
                                    &lt;Radio value="a">测试所需材料不全，未达到受理条件。&lt;/Radio>
                                    &lt;Radio value="b">属依据国家标准或自编非标规范进行的常规检测，有资质、能力和资源满足委托方要求。&lt;/Radio>
                                    &lt;Radio value="c">无国家标准和规范依据，或实验室缺乏检测设备和工具，无法完成检测。&lt;/Radio>
                                    &lt;Radio value="d">超出实验室能力和资质范围，无法完成检测。&lt;/Radio>
                                &lt;/RadioGroup>
                            )}
                        &lt;/FormItem>

                        &lt;FormItem
                            {...formItemLayout}
                            label="受理意见："
                        >
                            {getFieldDecorator('admissiBility', {
                                rules: [{ required: true, message: '请选择受理意见！'}],
                                 initialValue: this.props.values.admissiBility,
                            })(
                                &lt;RadioGroup name={"受理意见:"} disabled={this.props.disable}>
                                    &lt;Radio value="a">受理-进入项目立项和合同评审流程。&lt;/Radio>
                                    &lt;Radio value="b">不受理&lt;/Radio>
                                    &lt;Radio value="c">进一步联系&lt;/Radio>
                                &lt;/RadioGroup>

                            )}
                        &lt;/FormItem>

                        &lt;FormItem label="测试项目编号"
                                  {...formItemLayout}
                        >
                            {getFieldDecorator('testingNumber', {
                                rules: [{ required: true, message: '请输入测试项目编号！'}],
                                initialValue: this.props.values.testingNumber,
                            })(
                                &lt;Input disabled={this.props.disable} placeholder="请输入测试项目编号" />
                            )}
                        &lt;/FormItem>

                        &lt;FormItem
                            label="备注"
                            {...formItemLayout}
                        >
                            {getFieldDecorator('remarksE', {
                                rules: [{ required: true, message: '请输入备注！'}],
                                   initialValue: this.props.values.remarksE,
                            })(
                                &lt;TextArea disabled={this.props.disable} rows={4} />
                            )}
                        &lt;/FormItem>

                        &lt;FormItem
                            label="受理人（签字）"
                            {...formItemLayout}
                        >
                            &lt;span className="ant-form-text">&lt;/span>
                        &lt;/FormItem>

                        &lt;FormItem
                            label="日期"
                            {...formItemLayout}
                        >
                            &lt;span className="ant-form-text">&lt;/span>
                        &lt;/FormItem>

                        &lt;FormItem
                            label="委托人填写"
                            {...formItemLayout}
                        >
                            &lt;TextArea disabled={this.props.disable} rows={4} />
                        &lt;/FormItem>

                        &lt;FormItem
                            label="委托人（签字）"
                            {...formItemLayout}
                        >
                            &lt;span className="ant-form-text">&lt;/span>
                        &lt;/FormItem>

                        &lt;FormItem
                            label="日期"
                            {...formItemLayout}
                        >
                            &lt;span className="ant-form-text">&lt;/span>
                        &lt;/FormItem>
                    &lt;/TabPane>

                    &lt;TabPane tab="委托测试软件功能列表" key="5">
                        &lt;div>
                            &lt;Button onClick={this.handleAdd} type="primary" style={{ marginBottom: 16 }}>
                                添加测试功能
                            &lt;/Button>
                            &lt;Table bordered dataSource={dataSource} columns={columns} />
                        &lt;/div>

                    &lt;/TabPane>


                &lt;/Tabs>

               &lt;/div>

                {/* footer buttons */}        {/*console.log(buttonsDisabled)*/}
                &lt;FormItem style={{textAlign:'center'}}>
                    {this.props.buttons.map((button, index) => {
                        let buttonCanShow = false;
                        this.props.buttonsEnable.forEach(function(element){
                            if(element.content === button.content &amp;&amp; element.enable){
                                buttonCanShow = true;
                            }});
                        if(buttonCanShow){
                            return &lt;Button
                                //disabled={this.props.buttonDisabled}
                                onClick={this.onClick(index)}
                                key={button.content}>
                                {button.content}
                            &lt;/Button>
                        }
                    })}
                &lt;/FormItem>

                &lt;FormItem style={{textAlign:'center'}}>
                    &lt;Modal
                        visible={this.state.visible}
                        title="填写项目信息"
                        // okText="Create"
                        onCancel={this.handleCancel}
                        onOk={this.handleOk}
                    >
                        &lt;Form layout="vertical">
                            &lt;FormItem>
                                {getFieldDecorator('processNo', {
                                    rules: [{ required: true, message: '请输入项目编号!' }],
                                })(
                                    &lt;Input prefix={&lt;Icon type="edit" style={{ color: 'rgba(0,0,0,.25)' }} />} placeholder="ProcessNo" />
                                )}
                            &lt;/FormItem>
                        &lt;/Form>
                    &lt;/Modal>
                &lt;/FormItem>
            &lt;/Form>

        );
    }
}

export default Form.create()(ConsignContentComponent);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AppComponent.html">AppComponent</a></li><li><a href="ConsignContentComponent.html">ConsignContentComponent</a></li><li><a href="EditableCell.html">EditableCell</a></li><li><a href="TestProblemReducer.html">TestProblemReducer</a></li></ul><h3>Global</h3><ul><li><a href="global.html#containsPane">containsPane</a></li><li><a href="global.html#mapStateToProps">mapStateToProps</a></li><li><a href="global.html#render">render</a></li><li><a href="global.html#TabPane">TabPane</a></li><li><a href="global.html#tabsMap">tabsMap</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Jul 16 2018 11:11:46 GMT+0800 (CST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
